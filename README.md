# –ü–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.

–ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ [–∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω—ã](https://en.wikipedia.org/wiki/Quaternion).
–í —ç—Ç–æ–º –¥–æ–º–∞—à–Ω–µ–º –∑–∞–¥–∞–Ω–∏–∏ –í–∞–º –Ω—É–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å `quaternion` —Ä–µ–∞–ª–∏–∑—É—é—â–∏–π –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω—ã.
–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ö—Ä–∞–Ω–∏—Ç–µ –≤ —Ç–∏–ø–µ `double`.

–î–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:

1. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `quaternion(double a, double b, double c, double d)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω _a_ + _bùïö_ + _cùïõ_ + _dùïú_.
2. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `quaternion(double a)` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω _a_ + _0ùïö_ + _0ùïõ_ + _0ùïú_.
3. –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä `quaternion()` ‚Äî —Å–æ–∑–¥–∞—ë—Ç –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω _0_ + _0ùïö_ + _0ùïõ_ + _0ùïú_.
4. –ö–æ–ø–∏—Ä—É—é—â–∏–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä.
5. –ö–æ–ø–∏—Ä—É—é—â–∏–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏—è.
6. –ú–µ—Ç–æ–¥ `real()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é —á–∞—Å—Ç—å –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞.
7. –ú–µ—Ç–æ–¥ `imaginary_x()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ –ø—Ä–∏ _ùïö_. –ù–∞–ø—Ä–∏–º–µ—Ä, `quaternion(1, 2, 3, 4).imaginary_x()` —Ä–∞–≤–Ω–æ –¥–≤—É–º.
8. –ú–µ—Ç–æ–¥ `imaginary_y()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ –ø—Ä–∏ _ùïõ_. –ù–∞–ø—Ä–∏–º–µ—Ä, `quaternion(1, 2, 3, 4).imaginary_y()` —Ä–∞–≤–Ω–æ —Ç—Ä—ë–º.
9. –ú–µ—Ç–æ–¥ `imaginary_z()` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ –ø—Ä–∏ _ùïú_. –ù–∞–ø—Ä–∏–º–µ—Ä, `quaternion(1, 2, 3, 4).imaginary_z()` —Ä–∞–≤–Ω–æ —á–µ—Ç—ã—Ä—ë–º.
10. –ú–µ—Ç–æ–¥ `conjugate` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ–ø—Ä—è–∂—ë–Ω–Ω—ã–π –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω. –ù–∞–ø—Ä–∏–º–µ—Ä, `quaternion(1, 2, 3, 4).conjugate()` —Ä–∞–≤–Ω–æ `quaternion(1, -2, -3, -4)`.
11. –ú–µ—Ç–æ–¥ `norm` ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ—Ä–º—É –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞ (—Ç.–µ. –∫–≤–∞–¥—Ä–∞—Ç –º–æ–¥—É–ª—è). –ù–∞–ø—Ä–∏–º–µ—Ä, `quaternion(1, 2, 3, 4).norm()` —Ä–∞–≤–Ω–æ —Ç—Ä–∏–¥—Ü–∞—Ç–∏, –ø–æ—Ç–æ–º—É —á—Ç–æ 1¬≤ + 2¬≤ + 3¬≤ + 4¬≤ = 30.

–ü–æ–º–∏–º–æ –∫ —ç—Ç–æ–º—É –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞—Å—Å–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:
1. –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –∏ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç (`++q` –∏ `q++`) ‚Äî —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É.
2. –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –∏ –ø–æ—Å—Ç—Ñ–∏–∫—Å–Ω—ã–π –¥–µ–∫—Ä–µ–º–µ–Ω—Ç (`--q` –∏ `q--`) ‚Äî —É–º–µ–Ω—å—à–∞—é—Ç –≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—É—é —á–∞—Å—Ç—å –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É.
3. –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –ø–ª—é—Å (`+q`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ø–∏—é –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–∞.
4. –ü—Ä–µ—Ñ–∏–∫—Å–Ω—ã–π –º–∏–Ω—É—Å (`-q`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω—ã–π –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω.
5. –°–ª–æ–∂–µ–Ω–∏–µ (`q1 + q2`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—É–º–º—É –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–æ–≤.
6. –°–ª–æ–∂–µ–Ω–∏–µ (`q1 - q2`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–∞–∑–Ω–æ—Å—Ç—å –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–æ–≤.
7. –°–ª–æ–∂–µ–Ω–∏–µ (`q1 * q2`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–æ–≤. –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ –æ–Ω–æ –Ω–µ–æ—á–µ–≤–∏–¥–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è.
8. –°–ª–æ–∂–µ–Ω–∏–µ (`q1 / q2`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —á–∞—Å—Ç–Ω–æ–µ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω–æ–≤. –ü–æ–¥—Å–∫–∞–∑–∫–∞: –ø–æ—Å–º–æ—Ç—Ä–∏—Ç–µ, –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–±—Ä–∞—Ç–Ω—ã–π –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω –∏ –¥–æ–º–Ω–æ–∂—å—Ç–µ –Ω–∞ –Ω–µ–≥–æ.
9. –ê—Ä–∏—Ñ–º–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ø—Ä–∏—Å–≤–∞–∏–≤–∞–Ω–∏–µ–º (`q1 += q2`, `q1 -= q2`, `q1 *= q2` –∏ `q1 /= q2`).
10. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (`q1 == q1`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `true`, –µ—Å–ª–∏ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω—ã —Ä–∞–≤–Ω—ã, –∏–Ω–∞—á–µ `false`.
11. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ (`q1 != q1`) ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `false`, –µ—Å–ª–∏ –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω—ã —Ä–∞–≤–Ω—ã, –∏–Ω–∞—á–µ `true`.

–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–µ:
- –ù–µ –∑–∞–±—ã–≤–∞–π—Ç–µ —Ä–∞—Å—Å—Ç–∞–≤–ª—è—Ç—å `const` —É –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –º–µ—Ç–æ–¥–æ–≤.
- –ù–µ –¥–æ–ø—É—Å–∫–∞–π—Ç–µ –ª–∏—à–Ω–∏—Ö –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–π.
- –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–º –æ–±—Ä–∞–∑–æ–º.

–¢–∞–∫–∂–µ —É –¥–∞–Ω–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –µ—Å—Ç—å –±–æ–Ω—É—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è.
- –í—ã–ø–æ–ª–Ω–µ–Ω–Ω–∞—è –±–æ–Ω—É—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–±–∞–ª–ª–∞ –∫ –æ—Ü–µ–Ω–∫–µ.
- –ë–æ–Ω—É—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–π, –µ—Å–ª–∏ –æ—Å–Ω–æ–≤–Ω–∞—è —á–∞—Å—Ç—å –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç—ã.
- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–æ–Ω—É—Å–Ω–∞—è –≤–µ—Ä—Å–∏—è –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è. –ß—Ç–æ–±—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã –±–æ–Ω—É—Å–Ω–æ–π –≤–µ—Ä—Å–∏–∏, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ –≤ —Ñ–∞–π–ª–µ quaternion.h —Å—Ç—Ä–æ–∫—É
  ```cpp
  // #define BONUS_VERSION // uncomment this for bonus version
  ```
  –≠—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –µ—Å–ª–∏ –≤—ã –≤—ã–ø–æ–ª–Ω—è–µ—Ç–µ –±–æ–Ω—É—Å–Ω—É—é –≤–µ—Ä—Å–∏—é.

–î–ª—è –±–æ–Ω—É—Å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
- –ü—Ä–æ—á–∏—Ç–∞–π—Ç–µ –ø—Ä–æ [–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ª–∏—Ç–µ—Ä–∞–ª—ã](https://en.cppreference.com/w/cpp/language/user_literal.html). –ü—Ä–∏–º–µ—Ä –º–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å [–∑–¥–µ—Å—å](https://en.cppreference.com/w/cpp/numeric/complex/operator%2522%2522i.html).
- –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –ª–∏—Ç–µ—Ä–∞–ª—ã `_i`, `_j` –∏ `_k`, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–≤–∞—Ç–µ—Ä–Ω–∏–æ–Ω—ã —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏. –ù–∞–ø—Ä–∏–º–µ—Ä, `10_i` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ `quaternion(0, 10, 0, 0)`, –∞ `2.5_j` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ä–∞–≤–Ω–æ `quaternion(0, 0, 2.5, 0)`.

